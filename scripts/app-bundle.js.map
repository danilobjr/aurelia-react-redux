{"version":3,"sources":["app.ts","environment.ts","main.ts","resources/index.ts","bkn-datagrid/components/actions.ts","bkn-datagrid/components/reducers.ts","bkn-datagrid/bkn-datagrid.tsx","bkn-datagrid/components/BknDatagrid.tsx"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import { IBknDatagridHeader, IBknDatagridSorting } from './bkn-datagrid/components/BknDatagrid'\r\n\r\nexport interface IPerson {\r\n    id: number;\r\n    name: string;\r\n    email: string;\r\n}\r\n\r\nexport class App {\r\n    constructor(\r\n        public people: IPerson[],\r\n        public gridHeaders: IBknDatagridHeader[],\r\n        public gridSorting: IBknDatagridSorting\r\n    ) {\r\n        this.people = [\r\n            { id: 1, name: 'Danilo', email: 'danilo@beakyn.com' },\r\n            { id: 2, name: 'Abraao', email: 'abraao@beakyn.com' },\r\n            { id: 3, name: 'Ricardo', email: 'ricardo@beakyn.com' },\r\n            { id: 4, name: 'Juan', email: 'juan@beakyn.com' }\r\n        ];\r\n\r\n        this.gridHeaders = [\r\n            { \r\n                key: 'name',\r\n                name: 'Name'\r\n            },\r\n            { \r\n                key: 'email',\r\n                name: 'Email'\r\n            }\r\n        ];\r\n\r\n        this.gridSorting = {\r\n            column: 'name',\r\n            asc: true\r\n        };\r\n    }\r\n}\r\n","export default {\n  debug: true,\n  testing: true\n};\n","import {Aurelia} from 'aurelia-framework'\nimport environment from './environment';\n\n//Configure Bluebird Promises.\n(<any>Promise).config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia: Aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {FrameworkConfiguration} from 'aurelia-framework';\n\nexport function configure(config: FrameworkConfiguration) {\n  //config.globalResources([]);\n}\n","export type SORT = 'bkn-datagrid.components.actions.SORT';\r\nexport const SORT: SORT = 'bkn-datagrid.components.actions.SORT';\r\n\r\nexport type SortAction = {\r\n    type: SORT;\r\n    columnName: string;\r\n};\r\n\r\nexport const sortByColumnName = (columnName: string): SortAction => ({\r\n    type: SORT,\r\n    columnName\r\n});\r\n","import { SORT, SortAction } from './actions'\r\n\r\ntype BknDatagridAction = SortAction;\r\n\r\ninterface IBknDatagridState {\r\n    bknDatagridSortColumnName: string;\r\n    bknDatagridSortAscending: boolean;\r\n}\r\n\r\nconst initialState = {\r\n    bknDatagridSortColumnName: 'updatedAt',\r\n    bknDatagridSortAscending: true\r\n};\r\n\r\nexport const bknDatagridSortingReducer = (state: IBknDatagridState = initialState, action: BknDatagridAction): IBknDatagridState => {\r\n    switch (action.type) {\r\n        case SORT:\r\n            return Object.assign({}, state, { \r\n                bknDatagridSortColumnName: action.columnName,\r\n                bknDatagridSortAscending: !state.bknDatagridSortAscending\r\n            });\r\n        default:\r\n            return state;            \r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport { createStore } from 'redux'\r\nimport {inject, bindable, noView} from 'aurelia-framework';\r\nimport { BknDatagrid, IBknDatagridHeader, IBknDatagridSorting } from './components/BknDatagrid';\r\nimport { sortByColumnName } from './components/actions';\r\nimport { bknDatagridSortingReducer } from './components/reducers';\r\n\r\n@noView()\r\n@inject(Element)\r\nexport class BknDatagridCustomElement {\r\n    @bindable data: any[];\r\n    @bindable headers: IBknDatagridHeader[];\r\n    @bindable sorting: IBknDatagridSorting;\r\n\r\n    private element: Element;\r\n    private store = createStore(bknDatagridSortingReducer);\r\n    \r\n    constructor(element: Element) {\r\n        this.element = element;\r\n\r\n        const state = this.store.getState();\r\n\r\n        console.log(this.sorting);\r\n\r\n        this.sorting = this.sorting || {\r\n            column: state.bknDatagridSortColumnName,\r\n            asc: state.bknDatagridSortAscending\r\n        };\r\n\r\n        console.log(this.sorting);\r\n\r\n        this.store.subscribe(this.update.bind(this))\r\n    }\r\n    \r\n    render() {\r\n        ReactDOM.render(\r\n            <BknDatagrid \r\n                data={this.data} \r\n                headers={this.headers}\r\n                sorting={this.sorting}\r\n                onSort={(column) => this.sort(column)}\r\n            />,\r\n            this.element\r\n        );\r\n    }\r\n\r\n    update() {\r\n        const state = this.store.getState();\r\n        this.sorting.column = state.bknDatagridSortColumnName;\r\n        this.sorting.asc = state.bknDatagridSortAscending;\r\n        console.log(this.sorting);\r\n    }\r\n    \r\n    bind() {\r\n        this.render();\r\n    }\r\n    \r\n    /**\r\n     * Data Changed\r\n     * \r\n     * An automatic callback function when our \"data\"\r\n     * bindable value changes. We need to rebind the React\r\n     * element to get the new data from the ViewModel.\r\n     * \r\n     * @param {any} newVal The updated data\r\n     * @returns {void}\r\n     * \r\n     */\r\n    dataChanged(newVal) {\r\n        this.bind();\r\n    }\r\n\r\n    sort(column: string) {\r\n        this.store.dispatch(sortByColumnName(column));\r\n    }\r\n}\r\n","import * as React from 'react';\r\n\r\ninterface IBknDatagridHeader {\r\n    key: string; \r\n    name: string;\r\n}\r\n\r\ninterface IBknDatagridSorting {\r\n    column: string; \r\n    asc: boolean;\r\n}\r\n\r\ninterface IProps {\r\n    data: any[];\r\n    headers: IBknDatagridHeader[];\r\n    sorting: IBknDatagridSorting;\r\n    onSort: (column: string) => void;\r\n}\r\n\r\nclass BknDatagrid extends React.Component<IProps, any> {\r\n    private dataPropertiesForRenderTableCells: string[];\r\n\r\n    constructor(props: IProps) {\r\n        super(props);\r\n\r\n        this.dataPropertiesForRenderTableCells = this.props.headers.map(c => c.key);\r\n    }\r\n\r\n    static defaultProperties: Partial<IProps> = {\r\n        data: []\r\n    }\r\n    \r\n    render() {\r\n        if (!this.props.data.length) {\r\n            return null;\r\n        }\r\n        \r\n        return (\r\n            <div>\r\n                <table>\r\n                    <thead>{this.renderHeaders()}</thead>\r\n                    <tbody>{this.renderBody()}</tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderHeaders() {\r\n        const { headers, onSort } = this.props;\r\n\r\n        return headers.map((c, index) => \r\n            <th key={index} onClick={() => onSort(c.key)}>{c.name}</th>\r\n        );\r\n    }\r\n\r\n    renderBody() {\r\n        const { headers, data }: IProps = this.props;\r\n\r\n        return data.map((d, index) => \r\n            <tr key={index}>\r\n                {this.renderCells(d)}\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    renderCells(data) {\r\n        return this.dataPropertiesForRenderTableCells.map((property, index) => \r\n            <td key={index}>{data[property]}</td>\r\n        );\r\n    }\r\n}\r\n\r\nexport {\r\n    BknDatagrid,\r\n    IBknDatagridHeader,\r\n    IBknDatagridSorting\r\n}\r\n"],"sourceRoot":".."}